{
  "openapi": "3.0.1",
  "info": {
    "title": "FlexPrice API",
    "description": "FlexPrice API Service",
    "contact": {},
    "version": "1.0"
  },
  "servers": [
    {
      "url": "https://api.cloud.flexprice.io/v1"
    }
  ],
  "paths": {
    "/auth/login": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Login",
        "description": "Login a user",
        "requestBody": {
          "description": "Login request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/dto.LoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.AuthResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "x-codegen-request-body-name": "login"
      }
    },
    "/auth/signup": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Sign up",
        "description": "Sign up a new user",
        "requestBody": {
          "description": "Sign up request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/dto.SignUpRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.AuthResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "x-codegen-request-body-name": "signup"
      }
    },
    "/customers": {
      "get": {
        "tags": [
          "Customers"
        ],
        "summary": "Get customers",
        "description": "Get customers",
        "parameters": [
          {
            "name": "email",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "end_time",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "expand",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "external_id",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "maximum": 1000,
              "minimum": 1,
              "type": "integer"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "schema": {
              "minimum": 0,
              "type": "integer"
            }
          },
          {
            "name": "order",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ]
            }
          },
          {
            "name": "sort",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "start_time",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "published",
                "deleted",
                "archived"
              ],
              "x-enum-varnames": [
                "StatusPublished",
                "StatusDeleted",
                "StatusArchived"
              ]
            },
            "x-enum-varnames": [
              "StatusPublished",
              "StatusDeleted",
              "StatusArchived"
            ]
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.ListCustomersResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "Customers"
        ],
        "summary": "Create a customer",
        "description": "Create a customer",
        "requestBody": {
          "description": "Customer",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/dto.CreateCustomerRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.CustomerResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "x-codegen-request-body-name": "customer"
      }
    },
    "/customers/{id}": {
      "get": {
        "tags": [
          "Customers"
        ],
        "summary": "Get a customer",
        "description": "Get a customer",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Customer ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.CustomerResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ]
      },
      "put": {
        "tags": [
          "Customers"
        ],
        "summary": "Update a customer",
        "description": "Update a customer",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Customer ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "description": "Customer",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/dto.UpdateCustomerRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.CustomerResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "x-codegen-request-body-name": "customer"
      },
      "delete": {
        "tags": [
          "Customers"
        ],
        "summary": "Delete a customer",
        "description": "Delete a customer",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Customer ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content",
            "content": {}
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ]
      }
    },
    "/customers/{id}/invoices/summary": {
      "get": {
        "tags": [
          "Invoices"
        ],
        "summary": "Get a customer invoice summary",
        "description": "Get a customer invoice summary",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Customer ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.CustomerMultiCurrencyInvoiceSummary"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ]
      }
    },
    "/customers/{id}/wallets": {
      "get": {
        "tags": [
          "Wallets"
        ],
        "summary": "Get wallets by customer ID",
        "description": "Get all wallets for a customer",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Customer ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/dto.WalletResponse"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ]
      }
    },
    "/environments": {
      "get": {
        "tags": [
          "Environments"
        ],
        "summary": "Get environments",
        "description": "Get environments",
        "parameters": [
          {
            "name": "expand",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "order",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sort",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "published",
                "deleted",
                "archived"
              ],
              "x-enum-varnames": [
                "StatusPublished",
                "StatusDeleted",
                "StatusArchived"
              ]
            },
            "x-enum-varnames": [
              "StatusPublished",
              "StatusDeleted",
              "StatusArchived"
            ]
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.ListEnvironmentsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "Environments"
        ],
        "summary": "Create an environment",
        "description": "Create an environment",
        "requestBody": {
          "description": "Environment",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/dto.CreateEnvironmentRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.EnvironmentResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "x-codegen-request-body-name": "environment"
      }
    },
    "/environments/{id}": {
      "get": {
        "tags": [
          "Environments"
        ],
        "summary": "Get an environment",
        "description": "Get an environment",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Environment ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.EnvironmentResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ]
      },
      "put": {
        "tags": [
          "Environments"
        ],
        "summary": "Update an environment",
        "description": "Update an environment",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Environment ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "description": "Environment",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/dto.UpdateEnvironmentRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.EnvironmentResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "x-codegen-request-body-name": "environment"
      }
    },
    "/events": {
      "get": {
        "tags": [
          "Events"
        ],
        "summary": "Get raw events",
        "description": "Retrieve raw events with pagination and filtering",
        "parameters": [
          {
            "name": "external_customer_id",
            "in": "query",
            "description": "External Customer ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "event_name",
            "in": "query",
            "description": "Event Name",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "start_time",
            "in": "query",
            "description": "Start Time (RFC3339)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "end_time",
            "in": "query",
            "description": "End Time (RFC3339)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "iter_first_key",
            "in": "query",
            "description": "Iter First Key (unix_timestamp_nanoseconds::event_id)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "iter_last_key",
            "in": "query",
            "description": "Iter Last Key (unix_timestamp_nanoseconds::event_id)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "description": "Page Size (1-50)",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.GetEventsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "Events"
        ],
        "summary": "Ingest event",
        "description": "Ingest a new event into the system",
        "requestBody": {
          "description": "Event data",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/dto.IngestEventRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "message:Event accepted for processing",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "x-codegen-request-body-name": "event"
      }
    },
    "/events/usage": {
      "post": {
        "tags": [
          "Events"
        ],
        "summary": "Get usage statistics",
        "description": "Retrieve aggregated usage statistics for events",
        "requestBody": {
          "description": "Request body",
          "content": {
            "*/*": {
              "schema": {
                "$ref": "#/components/schemas/dto.GetUsageRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.GetUsageResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "x-codegen-request-body-name": "request"
      }
    },
    "/events/usage/meter": {
      "post": {
        "tags": [
          "Events"
        ],
        "summary": "Get usage by meter",
        "description": "Retrieve aggregated usage statistics using meter configuration",
        "requestBody": {
          "description": "Request body",
          "content": {
            "*/*": {
              "schema": {
                "$ref": "#/components/schemas/dto.GetUsageByMeterRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.GetUsageResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "x-codegen-request-body-name": "request"
      }
    },
    "/invoices": {
      "get": {
        "tags": [
          "Invoices"
        ],
        "summary": "List invoices",
        "description": "List invoices with optional filtering",
        "parameters": [
          {
            "name": "customer_id",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "end_time",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "expand",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "invoice_status",
            "in": "query",
            "style": "form",
            "explode": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "DRAFT",
                  "FINALIZED",
                  "VOIDED"
                ]
              }
            }
          },
          {
            "name": "invoice_type",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "SUBSCRIPTION",
                "ONE_OFF",
                "CREDIT"
              ],
              "x-enum-varnames": [
                "InvoiceTypeSubscription",
                "InvoiceTypeOneOff",
                "InvoiceTypeCredit"
              ]
            },
            "x-enum-varnames": [
              "InvoiceTypeSubscription",
              "InvoiceTypeOneOff",
              "InvoiceTypeCredit"
            ]
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "maximum": 1000,
              "minimum": 1,
              "type": "integer"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "schema": {
              "minimum": 0,
              "type": "integer"
            }
          },
          {
            "name": "order",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ]
            }
          },
          {
            "name": "payment_status",
            "in": "query",
            "style": "form",
            "explode": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "PENDING",
                  "SUCCEEDED",
                  "FAILED"
                ]
              }
            }
          },
          {
            "name": "sort",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "start_time",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "published",
                "deleted",
                "archived"
              ],
              "x-enum-varnames": [
                "StatusPublished",
                "StatusDeleted",
                "StatusArchived"
              ]
            },
            "x-enum-varnames": [
              "StatusPublished",
              "StatusDeleted",
              "StatusArchived"
            ]
          },
          {
            "name": "subscription_id",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.ListInvoicesResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Invoices"
        ],
        "summary": "Create a new invoice",
        "description": "Create a new invoice with the provided details",
        "requestBody": {
          "description": "Invoice details",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/dto.CreateInvoiceRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.InvoiceResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "x-codegen-request-body-name": "invoice"
      }
    },
    "/invoices/preview": {
      "post": {
        "tags": [
          "Invoices"
        ],
        "summary": "Get a preview invoice",
        "description": "Get a preview invoice",
        "requestBody": {
          "description": "Preview Invoice Request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/dto.GetPreviewInvoiceRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.InvoiceResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "x-codegen-request-body-name": "request"
      }
    },
    "/invoices/{id}": {
      "get": {
        "tags": [
          "Invoices"
        ],
        "summary": "Get an invoice by ID",
        "description": "Get detailed information about an invoice",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Invoice ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.InvoiceResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/invoices/{id}/finalize": {
      "post": {
        "tags": [
          "Invoices"
        ],
        "summary": "Finalize an invoice",
        "description": "Finalize a draft invoice",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Invoice ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/gin.H"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/invoices/{id}/payment": {
      "put": {
        "tags": [
          "Invoices"
        ],
        "summary": "Update invoice payment status",
        "description": "Update the payment status of an invoice",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Invoice ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "description": "Payment Status Update Request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/dto.UpdateInvoicePaymentStatusRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.InvoiceResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "x-codegen-request-body-name": "request"
      }
    },
    "/invoices/{id}/void": {
      "post": {
        "tags": [
          "Invoices"
        ],
        "summary": "Void an invoice",
        "description": "Void an invoice that hasn't been paid",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Invoice ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/gin.H"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/meters": {
      "get": {
        "tags": [
          "Meters"
        ],
        "summary": "List meters",
        "description": "Get all meters",
        "parameters": [
          {
            "name": "end_time",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "event_name",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "expand",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "maximum": 1000,
              "minimum": 1,
              "type": "integer"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "schema": {
              "minimum": 0,
              "type": "integer"
            }
          },
          {
            "name": "order",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ]
            }
          },
          {
            "name": "sort",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "start_time",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "published",
                "deleted",
                "archived"
              ],
              "x-enum-varnames": [
                "StatusPublished",
                "StatusDeleted",
                "StatusArchived"
              ]
            },
            "x-enum-varnames": [
              "StatusPublished",
              "StatusDeleted",
              "StatusArchived"
            ]
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/dto.MeterResponse"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "Meters"
        ],
        "summary": "Create meter",
        "description": "Create a new meter with the specified configuration",
        "requestBody": {
          "description": "Meter configuration",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/dto.CreateMeterRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.MeterResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "x-codegen-request-body-name": "meter"
      }
    },
    "/meters/{id}": {
      "get": {
        "tags": [
          "Meters"
        ],
        "summary": "Get meter",
        "description": "Get a specific meter by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Meter ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.MeterResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ]
      },
      "put": {
        "tags": [
          "Meters"
        ],
        "summary": "Update meter",
        "description": "Update an existing meter",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Meter ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "description": "Meter configuration",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/dto.UpdateMeterRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.MeterResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "x-codegen-request-body-name": "meter"
      },
      "delete": {
        "tags": [
          "Meters"
        ],
        "summary": "Delete meter",
        "description": "Delete an existing meter",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Meter ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "message:Meter deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ]
      }
    },
    "/meters/{id}/disable": {
      "post": {
        "tags": [
          "Meters"
        ],
        "summary": "Disable meter [TODO: Deprecate]",
        "description": "Disable an existing meter",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Meter ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "message:Meter disabled successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ]
      }
    },
    "/plans": {
      "get": {
        "tags": [
          "Plans"
        ],
        "summary": "Get plans",
        "description": "Get plans with the specified filter",
        "parameters": [
          {
            "name": "end_time",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "expand",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "maximum": 1000,
              "minimum": 1,
              "type": "integer"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "schema": {
              "minimum": 0,
              "type": "integer"
            }
          },
          {
            "name": "order",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ]
            }
          },
          {
            "name": "plan_ids",
            "in": "query",
            "style": "form",
            "explode": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "sort",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "start_time",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "published",
                "deleted",
                "archived"
              ],
              "x-enum-varnames": [
                "StatusPublished",
                "StatusDeleted",
                "StatusArchived"
              ]
            },
            "x-enum-varnames": [
              "StatusPublished",
              "StatusDeleted",
              "StatusArchived"
            ]
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.ListPlansResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "Plans"
        ],
        "summary": "Create a new plan",
        "description": "Create a new plan with the specified configuration",
        "requestBody": {
          "description": "Plan configuration",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/dto.CreatePlanRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.PlanResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "x-codegen-request-body-name": "plan"
      }
    },
    "/plans/{id}": {
      "get": {
        "tags": [
          "Plans"
        ],
        "summary": "Get a plan by ID",
        "description": "Get a plan by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Plan ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.PlanResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ]
      },
      "put": {
        "tags": [
          "Plans"
        ],
        "summary": "Update a plan by ID",
        "description": "Update a plan by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Plan ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "description": "Plan configuration",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/dto.UpdatePlanRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.PlanResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "x-codegen-request-body-name": "plan"
      },
      "delete": {
        "tags": [
          "Plans"
        ],
        "summary": "Delete a plan by ID",
        "description": "Delete a plan by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Plan ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/gin.H"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ]
      }
    },
    "/prices": {
      "get": {
        "tags": [
          "Prices"
        ],
        "summary": "Get prices",
        "description": "Get prices with the specified filter",
        "parameters": [
          {
            "name": "end_time",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "expand",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "maximum": 1000,
              "minimum": 1,
              "type": "integer"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "schema": {
              "minimum": 0,
              "type": "integer"
            }
          },
          {
            "name": "order",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ]
            }
          },
          {
            "name": "plan_ids",
            "in": "query",
            "style": "form",
            "explode": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "sort",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "start_time",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "published",
                "deleted",
                "archived"
              ],
              "x-enum-varnames": [
                "StatusPublished",
                "StatusDeleted",
                "StatusArchived"
              ]
            },
            "x-enum-varnames": [
              "StatusPublished",
              "StatusDeleted",
              "StatusArchived"
            ]
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.ListPricesResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "Prices"
        ],
        "summary": "Create a new price",
        "description": "Create a new price with the specified configuration",
        "requestBody": {
          "description": "Price configuration",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/dto.CreatePriceRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.PriceResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "x-codegen-request-body-name": "price"
      }
    },
    "/prices/{id}": {
      "get": {
        "tags": [
          "Prices"
        ],
        "summary": "Get a price by ID",
        "description": "Get a price by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Price ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.PriceResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ]
      },
      "put": {
        "tags": [
          "Prices"
        ],
        "summary": "Update a price",
        "description": "Update a price with the specified configuration",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Price ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "description": "Price configuration",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/dto.UpdatePriceRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.PriceResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "x-codegen-request-body-name": "price"
      },
      "delete": {
        "tags": [
          "Prices"
        ],
        "summary": "Delete a price",
        "description": "Delete a price",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Price ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/gin.H"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ]
      }
    },
    "/subscriptions": {
      "get": {
        "tags": [
          "Subscriptions"
        ],
        "summary": "List subscriptions",
        "description": "Get subscriptions with optional filtering",
        "parameters": [
          {
            "name": "customer_id",
            "in": "query",
            "description": "Filter by customer ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "subscription_status",
            "in": "query",
            "description": "Filter by subscription status",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "plan_id",
            "in": "query",
            "description": "Filter by plan ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "description": "Offset for pagination",
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Limit for pagination",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.ListSubscriptionsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "Subscriptions"
        ],
        "summary": "Create subscription",
        "description": "Create a new subscription",
        "requestBody": {
          "description": "Subscription Request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/dto.CreateSubscriptionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.SubscriptionResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "x-codegen-request-body-name": "subscription"
      }
    },
    "/subscriptions/usage": {
      "post": {
        "tags": [
          "Subscriptions"
        ],
        "summary": "Get usage by subscription",
        "description": "Get usage by subscription",
        "requestBody": {
          "description": "Request",
          "content": {
            "*/*": {
              "schema": {
                "$ref": "#/components/schemas/dto.GetUsageBySubscriptionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.GetUsageBySubscriptionResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "x-codegen-request-body-name": "request"
      }
    },
    "/subscriptions/{id}": {
      "get": {
        "tags": [
          "Subscriptions"
        ],
        "summary": "Get subscription",
        "description": "Get a subscription by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Subscription ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.SubscriptionResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ]
      }
    },
    "/subscriptions/{id}/cancel": {
      "post": {
        "tags": [
          "Subscriptions"
        ],
        "summary": "Cancel subscription",
        "description": "Cancel a subscription",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Subscription ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "cancel_at_period_end",
            "in": "query",
            "description": "Cancel at period end",
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/gin.H"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ]
      }
    },
    "/tenants": {
      "post": {
        "tags": [
          "Tenants"
        ],
        "summary": "Create a new tenant",
        "description": "Create a new tenant",
        "requestBody": {
          "description": "Create tenant request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/dto.CreateTenantRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.TenantResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "x-codegen-request-body-name": "request"
      }
    },
    "/tenants/{id}": {
      "get": {
        "tags": [
          "Tenants"
        ],
        "summary": "Get tenant by ID",
        "description": "Get tenant by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Tenant ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.TenantResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ]
      }
    },
    "/users/me": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "Get user info",
        "description": "Get the current user's information",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.UserResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ]
      }
    },
    "/wallets": {
      "post": {
        "tags": [
          "Wallets"
        ],
        "summary": "Create a new wallet",
        "description": "Create a new wallet for a customer",
        "requestBody": {
          "description": "Create wallet request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/dto.CreateWalletRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.WalletResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "x-codegen-request-body-name": "request"
      }
    },
    "/wallets/{id}": {
      "get": {
        "tags": [
          "Wallets"
        ],
        "summary": "Get wallet by ID",
        "description": "Get a wallet by its ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Wallet ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.WalletResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ]
      }
    },
    "/wallets/{id}/balance/real-time": {
      "get": {
        "tags": [
          "Wallets"
        ],
        "summary": "Get wallet balance",
        "description": "Get real-time balance of a wallet",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Wallet ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.WalletBalanceResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ]
      }
    },
    "/wallets/{id}/terminate": {
      "post": {
        "tags": [
          "Wallets"
        ],
        "summary": "Terminate a wallet",
        "description": "Terminates a wallet by closing it and debiting remaining balance",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Wallet ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.WalletResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/wallets/{id}/top-up": {
      "post": {
        "tags": [
          "Wallets"
        ],
        "summary": "Top up wallet",
        "description": "Add credits to a wallet",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Wallet ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "description": "Top up request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/dto.TopUpWalletRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.WalletResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "x-codegen-request-body-name": "request"
      }
    },
    "/wallets/{id}/transactions": {
      "get": {
        "tags": [
          "Wallets"
        ],
        "summary": "Get wallet transactions",
        "description": "Get transactions for a wallet with pagination",
        "parameters": [
          {
            "name": "end_time",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "expand",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "maximum": 1000,
              "minimum": 1,
              "type": "integer"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "schema": {
              "minimum": 0,
              "type": "integer"
            }
          },
          {
            "name": "order",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ]
            }
          },
          {
            "name": "reference_id",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "reference_type",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sort",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "start_time",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "published",
                "deleted",
                "archived"
              ],
              "x-enum-varnames": [
                "StatusPublished",
                "StatusDeleted",
                "StatusArchived"
              ]
            },
            "x-enum-varnames": [
              "StatusPublished",
              "StatusDeleted",
              "StatusArchived"
            ]
          },
          {
            "name": "transaction_status",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "pending",
                "completed",
                "failed"
              ],
              "x-enum-varnames": [
                "TransactionStatusPending",
                "TransactionStatusCompleted",
                "TransactionStatusFailed"
              ]
            },
            "x-enum-varnames": [
              "TransactionStatusPending",
              "TransactionStatusCompleted",
              "TransactionStatusFailed"
            ]
          },
          {
            "name": "type",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "credit",
                "debit"
              ],
              "x-enum-varnames": [
                "TransactionTypeCredit",
                "TransactionTypeDebit"
              ]
            },
            "x-enum-varnames": [
              "TransactionTypeCredit",
              "TransactionTypeDebit"
            ]
          },
          {
            "name": "wallet_id",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/dto.ListWalletTransactionsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/v1.ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "dto.AuthResponse": {
        "type": "object",
        "properties": {
          "token": {
            "type": "string"
          }
        }
      },
      "dto.CreateCustomerRequest": {
        "required": [
          "external_id"
        ],
        "type": "object",
        "properties": {
          "email": {
            "type": "string"
          },
          "external_id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          }
        }
      },
      "dto.CreateEnvironmentRequest": {
        "required": [
          "name",
          "slug",
          "type"
        ],
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "slug": {
            "type": "string"
          },
          "type": {
            "type": "string"
          }
        }
      },
      "dto.CreateInvoiceLineItemRequest": {
        "required": [
          "amount",
          "price_id",
          "quantity"
        ],
        "type": "object",
        "properties": {
          "amount": {
            "type": "number"
          },
          "display_name": {
            "type": "string"
          },
          "metadata": {
            "$ref": "#/components/schemas/types.Metadata"
          },
          "meter_display_name": {
            "type": "string"
          },
          "meter_id": {
            "type": "string"
          },
          "period_end": {
            "type": "string"
          },
          "period_start": {
            "type": "string"
          },
          "plan_display_name": {
            "type": "string"
          },
          "plan_id": {
            "type": "string"
          },
          "price_id": {
            "type": "string"
          },
          "price_type": {
            "type": "string"
          },
          "quantity": {
            "type": "number"
          }
        }
      },
      "dto.CreateInvoiceRequest": {
        "required": [
          "amount_due",
          "currency",
          "customer_id",
          "invoice_type"
        ],
        "type": "object",
        "properties": {
          "amount_due": {
            "type": "number"
          },
          "amount_paid": {
            "type": "number"
          },
          "billing_reason": {
            "$ref": "#/components/schemas/types.InvoiceBillingReason"
          },
          "currency": {
            "type": "string"
          },
          "customer_id": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "due_date": {
            "type": "string"
          },
          "idempotency_key": {
            "type": "string"
          },
          "invoice_status": {
            "$ref": "#/components/schemas/types.InvoiceStatus"
          },
          "invoice_type": {
            "$ref": "#/components/schemas/types.InvoiceType"
          },
          "line_items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/dto.CreateInvoiceLineItemRequest"
            }
          },
          "metadata": {
            "$ref": "#/components/schemas/types.Metadata"
          },
          "payment_status": {
            "$ref": "#/components/schemas/types.InvoicePaymentStatus"
          },
          "period_end": {
            "type": "string"
          },
          "period_start": {
            "type": "string"
          },
          "subscription_id": {
            "type": "string"
          }
        }
      },
      "dto.CreateMeterRequest": {
        "required": [
          "aggregation",
          "event_name",
          "name"
        ],
        "type": "object",
        "properties": {
          "aggregation": {
            "$ref": "#/components/schemas/meter.Aggregation"
          },
          "event_name": {
            "type": "string",
            "example": "api_request"
          },
          "filters": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/meter.Filter"
            }
          },
          "name": {
            "type": "string",
            "example": "API Usage Meter"
          },
          "reset_usage": {
            "type": "object",
            "example": "BILLING_PERIOD",
            "allOf": [
              {
                "$ref": "#/components/schemas/types.ResetUsage"
              }
            ]
          }
        }
      },
      "dto.CreatePlanPriceRequest": {
        "required": [
          "billing_cadence",
          "billing_model",
          "billing_period",
          "billing_period_count",
          "currency",
          "type"
        ],
        "type": "object",
        "properties": {
          "amount": {
            "type": "string"
          },
          "billing_cadence": {
            "$ref": "#/components/schemas/types.BillingCadence"
          },
          "billing_model": {
            "$ref": "#/components/schemas/types.BillingModel"
          },
          "billing_period": {
            "$ref": "#/components/schemas/types.BillingPeriod"
          },
          "billing_period_count": {
            "minimum": 1,
            "type": "integer"
          },
          "currency": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "filter_values": {
            "type": "object",
            "additionalProperties": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "lookup_key": {
            "type": "string"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          },
          "meter_id": {
            "type": "string"
          },
          "plan_id": {
            "type": "string"
          },
          "tier_mode": {
            "$ref": "#/components/schemas/types.BillingTier"
          },
          "tiers": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/dto.CreatePriceTier"
            }
          },
          "transform_quantity": {
            "$ref": "#/components/schemas/price.TransformQuantity"
          },
          "type": {
            "$ref": "#/components/schemas/types.PriceType"
          }
        }
      },
      "dto.CreatePlanRequest": {
        "required": [
          "name"
        ],
        "type": "object",
        "properties": {
          "description": {
            "type": "string"
          },
          "invoice_cadence": {
            "$ref": "#/components/schemas/types.InvoiceCadence"
          },
          "lookup_key": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "prices": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/dto.CreatePlanPriceRequest"
            }
          },
          "trial_period": {
            "type": "integer"
          }
        }
      },
      "dto.CreatePriceRequest": {
        "required": [
          "billing_cadence",
          "billing_model",
          "billing_period",
          "billing_period_count",
          "currency",
          "type"
        ],
        "type": "object",
        "properties": {
          "amount": {
            "type": "string"
          },
          "billing_cadence": {
            "$ref": "#/components/schemas/types.BillingCadence"
          },
          "billing_model": {
            "$ref": "#/components/schemas/types.BillingModel"
          },
          "billing_period": {
            "$ref": "#/components/schemas/types.BillingPeriod"
          },
          "billing_period_count": {
            "minimum": 1,
            "type": "integer"
          },
          "currency": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "filter_values": {
            "type": "object",
            "additionalProperties": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "lookup_key": {
            "type": "string"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          },
          "meter_id": {
            "type": "string"
          },
          "plan_id": {
            "type": "string"
          },
          "tier_mode": {
            "$ref": "#/components/schemas/types.BillingTier"
          },
          "tiers": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/dto.CreatePriceTier"
            }
          },
          "transform_quantity": {
            "$ref": "#/components/schemas/price.TransformQuantity"
          },
          "type": {
            "$ref": "#/components/schemas/types.PriceType"
          }
        }
      },
      "dto.CreatePriceTier": {
        "required": [
          "unit_amount"
        ],
        "type": "object",
        "properties": {
          "flat_amount": {
            "type": "string"
          },
          "unit_amount": {
            "type": "string"
          },
          "up_to": {
            "type": "integer"
          }
        }
      },
      "dto.CreateSubscriptionRequest": {
        "required": [
          "billing_cadence",
          "billing_period",
          "billing_period_count",
          "currency",
          "customer_id",
          "invoice_cadence",
          "plan_id",
          "start_date"
        ],
        "type": "object",
        "properties": {
          "billing_cadence": {
            "$ref": "#/components/schemas/types.BillingCadence"
          },
          "billing_period": {
            "$ref": "#/components/schemas/types.BillingPeriod"
          },
          "billing_period_count": {
            "minimum": 1,
            "type": "integer"
          },
          "currency": {
            "type": "string"
          },
          "customer_id": {
            "type": "string"
          },
          "end_date": {
            "type": "string"
          },
          "invoice_cadence": {
            "$ref": "#/components/schemas/types.InvoiceCadence"
          },
          "lookup_key": {
            "type": "string"
          },
          "plan_id": {
            "type": "string"
          },
          "start_date": {
            "type": "string"
          },
          "trial_end": {
            "type": "string"
          },
          "trial_start": {
            "type": "string"
          }
        }
      },
      "dto.CreateTenantRequest": {
        "required": [
          "name"
        ],
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          }
        }
      },
      "dto.CreateWalletRequest": {
        "required": [
          "currency",
          "customer_id"
        ],
        "type": "object",
        "properties": {
          "currency": {
            "type": "string"
          },
          "customer_id": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "metadata": {
            "$ref": "#/components/schemas/types.Metadata"
          },
          "name": {
            "type": "string"
          }
        }
      },
      "dto.CustomerInvoiceSummary": {
        "type": "object",
        "properties": {
          "currency": {
            "type": "string"
          },
          "customer_id": {
            "type": "string"
          },
          "overdue_invoice_count": {
            "type": "integer"
          },
          "total_invoice_count": {
            "type": "integer"
          },
          "total_overdue_amount": {
            "type": "number"
          },
          "total_revenue_amount": {
            "type": "number"
          },
          "total_unpaid_amount": {
            "type": "number"
          },
          "unpaid_fixed_charges": {
            "type": "number"
          },
          "unpaid_invoice_count": {
            "type": "integer"
          },
          "unpaid_usage_charges": {
            "type": "number"
          }
        }
      },
      "dto.CustomerMultiCurrencyInvoiceSummary": {
        "type": "object",
        "properties": {
          "customer_id": {
            "type": "string"
          },
          "default_currency": {
            "type": "string"
          },
          "summaries": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/dto.CustomerInvoiceSummary"
            }
          }
        }
      },
      "dto.CustomerResponse": {
        "type": "object",
        "properties": {
          "created_at": {
            "type": "string"
          },
          "created_by": {
            "type": "string"
          },
          "email": {
            "type": "string",
            "description": "Email is the email of the customer"
          },
          "external_id": {
            "type": "string",
            "description": "ExternalID is the external identifier for the customer"
          },
          "id": {
            "type": "string",
            "description": "ID is the unique identifier for the customer"
          },
          "name": {
            "type": "string",
            "description": "Name is the name of the customer"
          },
          "status": {
            "$ref": "#/components/schemas/types.Status"
          },
          "tenant_id": {
            "type": "string"
          },
          "updated_at": {
            "type": "string"
          },
          "updated_by": {
            "type": "string"
          }
        }
      },
      "dto.EnvironmentResponse": {
        "type": "object",
        "properties": {
          "created_at": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "slug": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "updated_at": {
            "type": "string"
          }
        }
      },
      "dto.Event": {
        "type": "object",
        "properties": {
          "customer_id": {
            "type": "string"
          },
          "event_name": {
            "type": "string"
          },
          "external_customer_id": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "properties": {
            "type": "object",
            "additionalProperties": true
          },
          "source": {
            "type": "string"
          },
          "timestamp": {
            "type": "string"
          }
        }
      },
      "dto.GetEventsResponse": {
        "type": "object",
        "properties": {
          "events": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/dto.Event"
            }
          },
          "has_more": {
            "type": "boolean"
          },
          "iter_first_key": {
            "type": "string"
          },
          "iter_last_key": {
            "type": "string"
          }
        }
      },
      "dto.GetPreviewInvoiceRequest": {
        "required": [
          "subscription_id"
        ],
        "type": "object",
        "properties": {
          "period_end": {
            "type": "string"
          },
          "period_start": {
            "type": "string"
          },
          "subscription_id": {
            "type": "string"
          }
        }
      },
      "dto.GetUsageByMeterRequest": {
        "required": [
          "meter_id"
        ],
        "type": "object",
        "properties": {
          "customer_id": {
            "type": "string",
            "example": "customer456"
          },
          "end_time": {
            "type": "string",
            "example": "2024-12-09T00:00:00Z"
          },
          "external_customer_id": {
            "type": "string",
            "example": "user_5"
          },
          "filters": {
            "type": "object",
            "additionalProperties": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "meter_id": {
            "type": "string",
            "example": "123"
          },
          "start_time": {
            "type": "string",
            "example": "2024-11-09T00:00:00Z"
          },
          "window_size": {
            "type": "object",
            "example": "HOUR",
            "allOf": [
              {
                "$ref": "#/components/schemas/types.WindowSize"
              }
            ]
          }
        }
      },
      "dto.GetUsageBySubscriptionRequest": {
        "required": [
          "subscription_id"
        ],
        "type": "object",
        "properties": {
          "end_time": {
            "type": "string",
            "example": "2024-03-20T00:00:00Z"
          },
          "lifetime_usage": {
            "type": "boolean",
            "example": false
          },
          "start_time": {
            "type": "string",
            "example": "2024-03-13T00:00:00Z"
          },
          "subscription_id": {
            "type": "string",
            "example": "123"
          }
        }
      },
      "dto.GetUsageBySubscriptionResponse": {
        "type": "object",
        "properties": {
          "amount": {
            "type": "number"
          },
          "charges": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/dto.SubscriptionUsageByMetersResponse"
            }
          },
          "currency": {
            "type": "string"
          },
          "display_amount": {
            "type": "string"
          },
          "end_time": {
            "type": "string"
          },
          "start_time": {
            "type": "string"
          }
        }
      },
      "dto.GetUsageRequest": {
        "required": [
          "aggregation_type",
          "event_name"
        ],
        "type": "object",
        "properties": {
          "aggregation_type": {
            "type": "string",
            "example": "COUNT"
          },
          "customer_id": {
            "type": "string",
            "example": "customer456"
          },
          "end_time": {
            "type": "string",
            "example": "2024-03-20T00:00:00Z"
          },
          "event_name": {
            "type": "string",
            "example": "api_request"
          },
          "external_customer_id": {
            "type": "string",
            "example": "customer456"
          },
          "filters": {
            "type": "object",
            "additionalProperties": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "property_name": {
            "type": "string",
            "description": "will be empty/ignored in case of COUNT",
            "example": "request_size"
          },
          "start_time": {
            "type": "string",
            "example": "2024-03-13T00:00:00Z"
          },
          "window_size": {
            "type": "object",
            "example": "HOUR",
            "allOf": [
              {
                "$ref": "#/components/schemas/types.WindowSize"
              }
            ]
          }
        }
      },
      "dto.GetUsageResponse": {
        "type": "object",
        "properties": {
          "event_name": {
            "type": "string"
          },
          "results": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/dto.UsageResult"
            }
          },
          "type": {
            "$ref": "#/components/schemas/types.AggregationType"
          },
          "value": {
            "type": "number"
          }
        }
      },
      "dto.IngestEventRequest": {
        "required": [
          "event_name",
          "external_customer_id"
        ],
        "type": "object",
        "properties": {
          "customer_id": {
            "type": "string",
            "example": "customer456"
          },
          "event_id": {
            "type": "string",
            "example": "event123"
          },
          "event_name": {
            "type": "string",
            "example": "api_request"
          },
          "external_customer_id": {
            "type": "string",
            "example": "customer456"
          },
          "properties": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "example": {
              "\"response_status\"": "200}",
              "{\"request_size\"": "100"
            }
          },
          "source": {
            "type": "string",
            "example": "api"
          },
          "timestamp": {
            "type": "string",
            "example": "2024-03-20T15:04:05Z"
          }
        }
      },
      "dto.InvoiceLineItemResponse": {
        "type": "object",
        "properties": {
          "amount": {
            "type": "number"
          },
          "created_at": {
            "type": "string"
          },
          "created_by": {
            "type": "string"
          },
          "currency": {
            "type": "string"
          },
          "customer_id": {
            "type": "string"
          },
          "display_name": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "invoice_id": {
            "type": "string"
          },
          "metadata": {
            "$ref": "#/components/schemas/types.Metadata"
          },
          "meter_display_name": {
            "type": "string"
          },
          "meter_id": {
            "type": "string"
          },
          "period_end": {
            "type": "string"
          },
          "period_start": {
            "type": "string"
          },
          "plan_display_name": {
            "type": "string"
          },
          "plan_id": {
            "type": "string"
          },
          "price_id": {
            "type": "string"
          },
          "price_type": {
            "type": "string"
          },
          "quantity": {
            "type": "number"
          },
          "status": {
            "type": "string"
          },
          "subscription_id": {
            "type": "string"
          },
          "tenant_id": {
            "type": "string"
          },
          "updated_at": {
            "type": "string"
          },
          "updated_by": {
            "type": "string"
          }
        }
      },
      "dto.InvoiceResponse": {
        "type": "object",
        "properties": {
          "amount_due": {
            "type": "number"
          },
          "amount_paid": {
            "type": "number"
          },
          "amount_remaining": {
            "type": "number"
          },
          "billing_reason": {
            "type": "string"
          },
          "billing_sequence": {
            "type": "integer"
          },
          "created_at": {
            "type": "string"
          },
          "created_by": {
            "type": "string"
          },
          "currency": {
            "type": "string"
          },
          "customer_id": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "due_date": {
            "type": "string"
          },
          "finalized_at": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "idempotency_key": {
            "type": "string"
          },
          "invoice_number": {
            "type": "string"
          },
          "invoice_pdf_url": {
            "type": "string"
          },
          "invoice_status": {
            "$ref": "#/components/schemas/types.InvoiceStatus"
          },
          "invoice_type": {
            "$ref": "#/components/schemas/types.InvoiceType"
          },
          "line_items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/dto.InvoiceLineItemResponse"
            }
          },
          "metadata": {
            "$ref": "#/components/schemas/types.Metadata"
          },
          "paid_at": {
            "type": "string"
          },
          "payment_status": {
            "$ref": "#/components/schemas/types.InvoicePaymentStatus"
          },
          "period_end": {
            "type": "string"
          },
          "period_start": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "subscription": {
            "type": "object",
            "description": "Edges",
            "allOf": [
              {
                "$ref": "#/components/schemas/dto.SubscriptionResponse"
              }
            ]
          },
          "subscription_id": {
            "type": "string"
          },
          "tenant_id": {
            "type": "string"
          },
          "updated_at": {
            "type": "string"
          },
          "updated_by": {
            "type": "string"
          },
          "version": {
            "type": "integer"
          },
          "voided_at": {
            "type": "string"
          }
        }
      },
      "dto.ListCustomersResponse": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/dto.CustomerResponse"
            }
          },
          "pagination": {
            "$ref": "#/components/schemas/types.PaginationResponse"
          }
        }
      },
      "dto.ListEnvironmentsResponse": {
        "type": "object",
        "properties": {
          "environments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/dto.EnvironmentResponse"
            }
          },
          "limit": {
            "type": "integer"
          },
          "offset": {
            "type": "integer"
          },
          "total": {
            "type": "integer"
          }
        }
      },
      "dto.ListInvoicesResponse": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/dto.InvoiceResponse"
            }
          },
          "pagination": {
            "$ref": "#/components/schemas/types.PaginationResponse"
          }
        }
      },
      "dto.ListPlansResponse": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/dto.PlanResponse"
            }
          },
          "pagination": {
            "$ref": "#/components/schemas/types.PaginationResponse"
          }
        }
      },
      "dto.ListPricesResponse": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/dto.PriceResponse"
            }
          },
          "pagination": {
            "$ref": "#/components/schemas/types.PaginationResponse"
          }
        }
      },
      "dto.ListSubscriptionsResponse": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/dto.SubscriptionResponse"
            }
          },
          "pagination": {
            "$ref": "#/components/schemas/types.PaginationResponse"
          }
        }
      },
      "dto.ListWalletTransactionsResponse": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/dto.WalletTransactionResponse"
            }
          },
          "pagination": {
            "$ref": "#/components/schemas/types.PaginationResponse"
          }
        }
      },
      "dto.LoginRequest": {
        "required": [
          "email",
          "password"
        ],
        "type": "object",
        "properties": {
          "email": {
            "type": "string"
          },
          "password": {
            "minLength": 8,
            "type": "string"
          }
        }
      },
      "dto.MeterResponse": {
        "type": "object",
        "properties": {
          "aggregation": {
            "$ref": "#/components/schemas/meter.Aggregation"
          },
          "created_at": {
            "type": "string",
            "example": "2024-03-20T15:04:05Z"
          },
          "event_name": {
            "type": "string",
            "example": "api_request"
          },
          "filters": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/meter.Filter"
            }
          },
          "id": {
            "type": "string",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          },
          "name": {
            "type": "string",
            "example": "API Usage Meter"
          },
          "reset_usage": {
            "$ref": "#/components/schemas/types.ResetUsage"
          },
          "status": {
            "type": "string",
            "example": "published"
          },
          "tenant_id": {
            "type": "string",
            "example": "tenant123"
          },
          "updated_at": {
            "type": "string",
            "example": "2024-03-20T15:04:05Z"
          }
        }
      },
      "dto.PlanResponse": {
        "type": "object",
        "properties": {
          "created_at": {
            "type": "string"
          },
          "created_by": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "invoice_cadence": {
            "$ref": "#/components/schemas/types.InvoiceCadence"
          },
          "lookup_key": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "prices": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/dto.PriceResponse"
            }
          },
          "status": {
            "$ref": "#/components/schemas/types.Status"
          },
          "tenant_id": {
            "type": "string"
          },
          "trial_period": {
            "type": "integer"
          },
          "updated_at": {
            "type": "string"
          },
          "updated_by": {
            "type": "string"
          }
        }
      },
      "dto.PriceResponse": {
        "type": "object",
        "properties": {
          "amount": {
            "type": "number",
            "description": "Amount stored in main currency units (e.g., dollars, not cents)\nFor USD: 12.50 means $12.50"
          },
          "billing_cadence": {
            "type": "object",
            "description": "BillingCadence is the billing cadence for the price ex RECURRING, ONETIME",
            "allOf": [
              {
                "$ref": "#/components/schemas/types.BillingCadence"
              }
            ]
          },
          "billing_model": {
            "type": "object",
            "description": "BillingModel is the billing model for the price ex FLAT_FEE, PACKAGE, TIERED",
            "allOf": [
              {
                "$ref": "#/components/schemas/types.BillingModel"
              }
            ]
          },
          "billing_period": {
            "type": "object",
            "description": "BillingPeriod is the billing period for the price ex month, year",
            "allOf": [
              {
                "$ref": "#/components/schemas/types.BillingPeriod"
              }
            ]
          },
          "billing_period_count": {
            "type": "integer",
            "description": "BillingPeriodCount is the count of the billing period ex 1, 3, 6, 12"
          },
          "created_at": {
            "type": "string"
          },
          "created_by": {
            "type": "string"
          },
          "currency": {
            "type": "string",
            "description": "Currency 3 digit ISO currency code in lowercase ex usd, eur, gbp"
          },
          "description": {
            "type": "string",
            "description": "Description of the price"
          },
          "display_amount": {
            "type": "string",
            "description": "DisplayAmount is the formatted amount with currency symbol\nFor USD: $12.50"
          },
          "filter_values": {
            "type": "object",
            "description": "FilterValues are the filter values for the price in case of usage based pricing",
            "allOf": [
              {
                "$ref": "#/components/schemas/price.JSONBFilters"
              }
            ]
          },
          "id": {
            "type": "string",
            "description": "ID uuid identifier for the price"
          },
          "lookup_key": {
            "type": "string",
            "description": "LookupKey used for looking up the price in the database"
          },
          "metadata": {
            "type": "object",
            "description": "Metadata is a jsonb field for additional information",
            "allOf": [
              {
                "$ref": "#/components/schemas/price.JSONBMetadata"
              }
            ]
          },
          "meter": {
            "$ref": "#/components/schemas/dto.MeterResponse"
          },
          "meter_id": {
            "type": "string",
            "description": "MeterID is the id of the meter for usage based pricing"
          },
          "plan_id": {
            "type": "string",
            "description": "PlanID is the id of the plan for plan based pricing"
          },
          "status": {
            "$ref": "#/components/schemas/types.Status"
          },
          "tenant_id": {
            "type": "string"
          },
          "tier_mode": {
            "type": "object",
            "description": "Tiered pricing fields when BillingModel is TIERED",
            "allOf": [
              {
                "$ref": "#/components/schemas/types.BillingTier"
              }
            ]
          },
          "tiers": {
            "type": "array",
            "description": "Tiers are the tiers for the price when BillingModel is TIERED",
            "items": {
              "$ref": "#/components/schemas/price.PriceTier"
            }
          },
          "transform_quantity": {
            "type": "object",
            "description": "Transform is the quantity transformation in case of PACKAGE billing model",
            "allOf": [
              {
                "$ref": "#/components/schemas/price.JSONBTransformQuantity"
              }
            ]
          },
          "type": {
            "type": "object",
            "description": "Type is the type of the price ex USAGE, FIXED",
            "allOf": [
              {
                "$ref": "#/components/schemas/types.PriceType"
              }
            ]
          },
          "updated_at": {
            "type": "string"
          },
          "updated_by": {
            "type": "string"
          }
        }
      },
      "dto.SignUpRequest": {
        "required": [
          "email",
          "password"
        ],
        "type": "object",
        "properties": {
          "email": {
            "type": "string"
          },
          "password": {
            "minLength": 8,
            "type": "string"
          }
        }
      },
      "dto.SubscriptionResponse": {
        "type": "object",
        "properties": {
          "billing_anchor": {
            "type": "string",
            "description": "BillingAnchor is the reference point that aligns future billing cycle dates.\nIt sets the day of week for week intervals, the day of month for month and year intervals,\nand the month of year for year intervals. The timestamp is in UTC format."
          },
          "billing_cadence": {
            "type": "object",
            "description": "BillingCadence is the cadence of the billing cycle.",
            "allOf": [
              {
                "$ref": "#/components/schemas/types.BillingCadence"
              }
            ]
          },
          "billing_period": {
            "type": "object",
            "description": "BillingPeriod is the period of the billing cycle.",
            "allOf": [
              {
                "$ref": "#/components/schemas/types.BillingPeriod"
              }
            ]
          },
          "billing_period_count": {
            "type": "integer",
            "description": "BillingPeriodCount is the total number units of the billing period."
          },
          "cancel_at": {
            "type": "string",
            "description": "CancelAt is the date the subscription will be canceled"
          },
          "cancel_at_period_end": {
            "type": "boolean",
            "description": "CancelAtPeriodEnd is whether the subscription was canceled at the end of the current period"
          },
          "cancelled_at": {
            "type": "string",
            "description": "CanceledAt is the date the subscription was canceled"
          },
          "created_at": {
            "type": "string"
          },
          "created_by": {
            "type": "string"
          },
          "currency": {
            "type": "string",
            "description": "Currency is the currency of the subscription in lowercase 3 digit ISO codes"
          },
          "current_period_end": {
            "type": "string",
            "description": "CurrentPeriodEnd is the end of the current period that the subscription has been invoiced for.\nAt the end of this period, a new invoice will be created."
          },
          "current_period_start": {
            "type": "string",
            "description": "CurrentPeriodStart is the end of the current period that the subscription has been invoiced for.\nAt the end of this period, a new invoice will be created."
          },
          "customer": {
            "$ref": "#/components/schemas/dto.CustomerResponse"
          },
          "customer_id": {
            "type": "string",
            "description": "CustomerID is the identifier for the customer in our system"
          },
          "end_date": {
            "type": "string",
            "description": "EndDate is the end date of the subscription"
          },
          "id": {
            "type": "string",
            "description": "ID is the unique identifier for the subscription"
          },
          "invoice_cadence": {
            "type": "object",
            "description": "InvoiceCadence is the cadence of the invoice. This overrides the plan's invoice cadence.",
            "allOf": [
              {
                "$ref": "#/components/schemas/types.InvoiceCadence"
              }
            ]
          },
          "lookup_key": {
            "type": "string",
            "description": "LookupKey is the key used to lookup the subscription in our system"
          },
          "plan": {
            "$ref": "#/components/schemas/dto.PlanResponse"
          },
          "plan_id": {
            "type": "string",
            "description": "PlanID is the identifier for the plan in our system"
          },
          "start_date": {
            "type": "string",
            "description": "StartDate is the start date of the subscription"
          },
          "status": {
            "$ref": "#/components/schemas/types.Status"
          },
          "subscription_status": {
            "type": "object",
            "description": "Status is the status of the subscription",
            "allOf": [
              {
                "$ref": "#/components/schemas/types.SubscriptionStatus"
              }
            ]
          },
          "tenant_id": {
            "type": "string"
          },
          "trial_end": {
            "type": "string",
            "description": "TrialEnd is the end date of the trial period"
          },
          "trial_start": {
            "type": "string",
            "description": "TrialStart is the start date of the trial period"
          },
          "updated_at": {
            "type": "string"
          },
          "updated_by": {
            "type": "string"
          },
          "version": {
            "type": "integer"
          }
        }
      },
      "dto.SubscriptionUsageByMetersResponse": {
        "type": "object",
        "properties": {
          "amount": {
            "type": "number"
          },
          "currency": {
            "type": "string"
          },
          "display_amount": {
            "type": "string"
          },
          "filter_values": {
            "$ref": "#/components/schemas/price.JSONBFilters"
          },
          "meter_display_name": {
            "type": "string"
          },
          "price": {
            "$ref": "#/components/schemas/price.Price"
          },
          "quantity": {
            "type": "number"
          }
        }
      },
      "dto.TenantResponse": {
        "type": "object",
        "properties": {
          "created_at": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "updated_at": {
            "type": "string"
          }
        }
      },
      "dto.TopUpWalletRequest": {
        "required": [
          "amount"
        ],
        "type": "object",
        "properties": {
          "amount": {
            "type": "number"
          },
          "description": {
            "type": "string"
          },
          "metadata": {
            "$ref": "#/components/schemas/types.Metadata"
          }
        }
      },
      "dto.UpdateCustomerRequest": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string"
          },
          "external_id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          }
        }
      },
      "dto.UpdateEnvironmentRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "slug": {
            "type": "string"
          },
          "type": {
            "type": "string"
          }
        }
      },
      "dto.UpdateInvoicePaymentStatusRequest": {
        "required": [
          "payment_status"
        ],
        "type": "object",
        "properties": {
          "amount": {
            "type": "number"
          },
          "payment_status": {
            "$ref": "#/components/schemas/types.InvoicePaymentStatus"
          }
        }
      },
      "dto.UpdateMeterRequest": {
        "type": "object",
        "properties": {
          "filters": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/meter.Filter"
            }
          }
        }
      },
      "dto.UpdatePlanPriceRequest": {
        "required": [
          "billing_cadence",
          "billing_model",
          "billing_period",
          "billing_period_count",
          "currency",
          "type"
        ],
        "type": "object",
        "properties": {
          "amount": {
            "type": "string"
          },
          "billing_cadence": {
            "$ref": "#/components/schemas/types.BillingCadence"
          },
          "billing_model": {
            "$ref": "#/components/schemas/types.BillingModel"
          },
          "billing_period": {
            "$ref": "#/components/schemas/types.BillingPeriod"
          },
          "billing_period_count": {
            "minimum": 1,
            "type": "integer"
          },
          "currency": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "filter_values": {
            "type": "object",
            "additionalProperties": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "id": {
            "type": "string",
            "description": "The ID of the price to update (present if the price is being updated)"
          },
          "lookup_key": {
            "type": "string"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          },
          "meter_id": {
            "type": "string"
          },
          "plan_id": {
            "type": "string"
          },
          "tier_mode": {
            "$ref": "#/components/schemas/types.BillingTier"
          },
          "tiers": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/dto.CreatePriceTier"
            }
          },
          "transform_quantity": {
            "$ref": "#/components/schemas/price.TransformQuantity"
          },
          "type": {
            "$ref": "#/components/schemas/types.PriceType"
          }
        }
      },
      "dto.UpdatePlanRequest": {
        "required": [
          "name"
        ],
        "type": "object",
        "properties": {
          "description": {
            "type": "string"
          },
          "invoice_cadence": {
            "$ref": "#/components/schemas/types.InvoiceCadence"
          },
          "lookup_key": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "prices": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/dto.UpdatePlanPriceRequest"
            }
          },
          "trial_period": {
            "type": "integer"
          }
        }
      },
      "dto.UpdatePriceRequest": {
        "type": "object",
        "properties": {
          "description": {
            "type": "string"
          },
          "lookup_key": {
            "type": "string"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          }
        }
      },
      "dto.UsageResult": {
        "type": "object",
        "properties": {
          "value": {
            "type": "number"
          },
          "window_size": {
            "type": "string"
          }
        }
      },
      "dto.UserResponse": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string"
          },
          "id": {
            "type": "string"
          }
        }
      },
      "dto.WalletBalanceResponse": {
        "type": "object",
        "properties": {
          "balance": {
            "type": "number"
          },
          "balance_updated_at": {
            "type": "string"
          },
          "created_at": {
            "type": "string"
          },
          "created_by": {
            "type": "string"
          },
          "currency": {
            "type": "string"
          },
          "current_period_usage": {
            "type": "number"
          },
          "customer_id": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "metadata": {
            "$ref": "#/components/schemas/types.Metadata"
          },
          "name": {
            "type": "string"
          },
          "real_time_balance": {
            "type": "number"
          },
          "status": {
            "$ref": "#/components/schemas/types.Status"
          },
          "tenant_id": {
            "type": "string"
          },
          "unpaid_invoice_amount": {
            "type": "number"
          },
          "updated_at": {
            "type": "string"
          },
          "updated_by": {
            "type": "string"
          },
          "wallet_status": {
            "$ref": "#/components/schemas/types.WalletStatus"
          }
        }
      },
      "dto.WalletResponse": {
        "type": "object",
        "properties": {
          "balance": {
            "type": "number"
          },
          "created_at": {
            "type": "string"
          },
          "currency": {
            "type": "string"
          },
          "customer_id": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "metadata": {
            "$ref": "#/components/schemas/types.Metadata"
          },
          "name": {
            "type": "string"
          },
          "updated_at": {
            "type": "string"
          },
          "wallet_status": {
            "$ref": "#/components/schemas/types.WalletStatus"
          }
        }
      },
      "dto.WalletTransactionResponse": {
        "type": "object",
        "properties": {
          "amount": {
            "type": "number"
          },
          "balance_after": {
            "type": "number"
          },
          "balance_before": {
            "type": "number"
          },
          "created_at": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "metadata": {
            "$ref": "#/components/schemas/types.Metadata"
          },
          "reference_id": {
            "type": "string"
          },
          "reference_type": {
            "type": "string"
          },
          "transaction_status": {
            "$ref": "#/components/schemas/types.TransactionStatus"
          },
          "type": {
            "type": "string"
          },
          "wallet_id": {
            "type": "string"
          }
        }
      },
      "gin.H": {
        "type": "object",
        "additionalProperties": {
          "type": "object"
        }
      },
      "meter.Aggregation": {
        "type": "object",
        "properties": {
          "field": {
            "type": "string",
            "description": "Field is the key in $event.properties on which the aggregation is to be applied\nFor ex if the aggregation type is sum for API usage, the field could be \"duration_ms\""
          },
          "type": {
            "type": "object",
            "description": "Type is the type of aggregation to be applied on the events\nFor ex sum, count, avg, max, min etc",
            "allOf": [
              {
                "$ref": "#/components/schemas/types.AggregationType"
              }
            ]
          }
        }
      },
      "meter.Filter": {
        "type": "object",
        "properties": {
          "key": {
            "type": "string",
            "description": "Key is the key for the filter from $event.properties\nCurrently we support only first level keys in the properties and not nested keys"
          },
          "values": {
            "type": "array",
            "description": "Values are the possible values for the filter to be considered for the meter\nFor ex \"model_name\" could have values \"o1-mini\", \"gpt-4o\" etc",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "price.JSONBFilters": {
        "type": "object",
        "additionalProperties": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      },
      "price.JSONBMetadata": {
        "type": "object",
        "additionalProperties": {
          "type": "string"
        }
      },
      "price.JSONBTransformQuantity": {
        "type": "object",
        "properties": {
          "divide_by": {
            "type": "integer",
            "description": "Divide quantity by this number"
          },
          "round": {
            "type": "string",
            "description": "up or down"
          }
        }
      },
      "price.Price": {
        "type": "object",
        "properties": {
          "amount": {
            "type": "number",
            "description": "Amount stored in main currency units (e.g., dollars, not cents)\nFor USD: 12.50 means $12.50"
          },
          "billing_cadence": {
            "type": "object",
            "description": "BillingCadence is the billing cadence for the price ex RECURRING, ONETIME",
            "allOf": [
              {
                "$ref": "#/components/schemas/types.BillingCadence"
              }
            ]
          },
          "billing_model": {
            "type": "object",
            "description": "BillingModel is the billing model for the price ex FLAT_FEE, PACKAGE, TIERED",
            "allOf": [
              {
                "$ref": "#/components/schemas/types.BillingModel"
              }
            ]
          },
          "billing_period": {
            "type": "object",
            "description": "BillingPeriod is the billing period for the price ex month, year",
            "allOf": [
              {
                "$ref": "#/components/schemas/types.BillingPeriod"
              }
            ]
          },
          "billing_period_count": {
            "type": "integer",
            "description": "BillingPeriodCount is the count of the billing period ex 1, 3, 6, 12"
          },
          "created_at": {
            "type": "string"
          },
          "created_by": {
            "type": "string"
          },
          "currency": {
            "type": "string",
            "description": "Currency 3 digit ISO currency code in lowercase ex usd, eur, gbp"
          },
          "description": {
            "type": "string",
            "description": "Description of the price"
          },
          "display_amount": {
            "type": "string",
            "description": "DisplayAmount is the formatted amount with currency symbol\nFor USD: $12.50"
          },
          "filter_values": {
            "type": "object",
            "description": "FilterValues are the filter values for the price in case of usage based pricing",
            "allOf": [
              {
                "$ref": "#/components/schemas/price.JSONBFilters"
              }
            ]
          },
          "id": {
            "type": "string",
            "description": "ID uuid identifier for the price"
          },
          "lookup_key": {
            "type": "string",
            "description": "LookupKey used for looking up the price in the database"
          },
          "metadata": {
            "type": "object",
            "description": "Metadata is a jsonb field for additional information",
            "allOf": [
              {
                "$ref": "#/components/schemas/price.JSONBMetadata"
              }
            ]
          },
          "meter_id": {
            "type": "string",
            "description": "MeterID is the id of the meter for usage based pricing"
          },
          "plan_id": {
            "type": "string",
            "description": "PlanID is the id of the plan for plan based pricing"
          },
          "status": {
            "$ref": "#/components/schemas/types.Status"
          },
          "tenant_id": {
            "type": "string"
          },
          "tier_mode": {
            "type": "object",
            "description": "Tiered pricing fields when BillingModel is TIERED",
            "allOf": [
              {
                "$ref": "#/components/schemas/types.BillingTier"
              }
            ]
          },
          "tiers": {
            "type": "array",
            "description": "Tiers are the tiers for the price when BillingModel is TIERED",
            "items": {
              "$ref": "#/components/schemas/price.PriceTier"
            }
          },
          "transform_quantity": {
            "type": "object",
            "description": "Transform is the quantity transformation in case of PACKAGE billing model",
            "allOf": [
              {
                "$ref": "#/components/schemas/price.JSONBTransformQuantity"
              }
            ]
          },
          "type": {
            "type": "object",
            "description": "Type is the type of the price ex USAGE, FIXED",
            "allOf": [
              {
                "$ref": "#/components/schemas/types.PriceType"
              }
            ]
          },
          "updated_at": {
            "type": "string"
          },
          "updated_by": {
            "type": "string"
          }
        }
      },
      "price.PriceTier": {
        "type": "object",
        "properties": {
          "flat_amount": {
            "type": "number",
            "description": "FlatAmount is the flat amount for the given tier and it is applied\non top of the unit amount*quantity. It solves cases in banking like 2.7% + 5c"
          },
          "unit_amount": {
            "type": "number",
            "description": "UnitAmount is the amount per unit for the given tier"
          },
          "up_to": {
            "type": "integer",
            "description": "Upto is the quantity up to which this tier applies. It is null for the last tier"
          }
        }
      },
      "price.TransformQuantity": {
        "type": "object",
        "properties": {
          "divide_by": {
            "type": "integer",
            "description": "Divide quantity by this number"
          },
          "round": {
            "type": "string",
            "description": "up or down"
          }
        }
      },
      "types.AggregationType": {
        "type": "string",
        "enum": [
          "COUNT",
          "SUM",
          "AVG"
        ],
        "x-enum-varnames": [
          "AggregationCount",
          "AggregationSum",
          "AggregationAvg"
        ]
      },
      "types.BillingCadence": {
        "type": "string",
        "enum": [
          "RECURRING",
          "ONETIME"
        ],
        "x-enum-varnames": [
          "BILLING_CADENCE_RECURRING",
          "BILLING_CADENCE_ONETIME"
        ]
      },
      "types.BillingModel": {
        "type": "string",
        "enum": [
          "FLAT_FEE",
          "PACKAGE",
          "TIERED"
        ],
        "x-enum-varnames": [
          "BILLING_MODEL_FLAT_FEE",
          "BILLING_MODEL_PACKAGE",
          "BILLING_MODEL_TIERED"
        ]
      },
      "types.BillingPeriod": {
        "type": "string",
        "enum": [
          "MONTHLY",
          "ANNUAL",
          "WEEKLY",
          "DAILY"
        ],
        "x-enum-varnames": [
          "BILLING_PERIOD_MONTHLY",
          "BILLING_PERIOD_ANNUAL",
          "BILLING_PERIOD_WEEKLY",
          "BILLING_PERIOD_DAILY"
        ]
      },
      "types.BillingTier": {
        "type": "string",
        "enum": [
          "VOLUME",
          "SLAB"
        ],
        "x-enum-varnames": [
          "BILLING_TIER_VOLUME",
          "BILLING_TIER_SLAB"
        ]
      },
      "types.InvoiceBillingReason": {
        "type": "string",
        "enum": [
          "SUBSCRIPTION_CREATE",
          "SUBSCRIPTION_CYCLE",
          "SUBSCRIPTION_UPDATE",
          "MANUAL"
        ],
        "x-enum-varnames": [
          "InvoiceBillingReasonSubscriptionCreate",
          "InvoiceBillingReasonSubscriptionCycle",
          "InvoiceBillingReasonSubscriptionUpdate",
          "InvoiceBillingReasonManual"
        ]
      },
      "types.InvoiceCadence": {
        "type": "string",
        "enum": [
          "ARREAR",
          "ADVANCE"
        ],
        "x-enum-varnames": [
          "InvoiceCadenceArrear",
          "InvoiceCadenceAdvance"
        ]
      },
      "types.InvoicePaymentStatus": {
        "type": "string",
        "enum": [
          "PENDING",
          "SUCCEEDED",
          "FAILED"
        ],
        "x-enum-varnames": [
          "InvoicePaymentStatusPending",
          "InvoicePaymentStatusSucceeded",
          "InvoicePaymentStatusFailed"
        ]
      },
      "types.InvoiceStatus": {
        "type": "string",
        "enum": [
          "DRAFT",
          "FINALIZED",
          "VOIDED"
        ],
        "x-enum-varnames": [
          "InvoiceStatusDraft",
          "InvoiceStatusFinalized",
          "InvoiceStatusVoided"
        ]
      },
      "types.InvoiceType": {
        "type": "string",
        "enum": [
          "SUBSCRIPTION",
          "ONE_OFF",
          "CREDIT"
        ],
        "x-enum-varnames": [
          "InvoiceTypeSubscription",
          "InvoiceTypeOneOff",
          "InvoiceTypeCredit"
        ]
      },
      "types.Metadata": {
        "type": "object",
        "additionalProperties": {
          "type": "string"
        }
      },
      "types.PaginationResponse": {
        "type": "object",
        "properties": {
          "limit": {
            "type": "integer"
          },
          "offset": {
            "type": "integer"
          },
          "total": {
            "type": "integer"
          }
        }
      },
      "types.PriceType": {
        "type": "string",
        "enum": [
          "USAGE",
          "FIXED"
        ],
        "x-enum-varnames": [
          "PRICE_TYPE_USAGE",
          "PRICE_TYPE_FIXED"
        ]
      },
      "types.ResetUsage": {
        "type": "string",
        "enum": [
          "BILLING_PERIOD",
          "NEVER"
        ],
        "x-enum-varnames": [
          "ResetUsageBillingPeriod",
          "ResetUsageNever"
        ]
      },
      "types.Status": {
        "type": "string",
        "enum": [
          "published",
          "deleted",
          "archived"
        ],
        "x-enum-varnames": [
          "StatusPublished",
          "StatusDeleted",
          "StatusArchived"
        ]
      },
      "types.SubscriptionStatus": {
        "type": "string",
        "enum": [
          "active",
          "paused",
          "cancelled",
          "incomplete",
          "incomplete_expired",
          "past_due",
          "trialing",
          "unpaid"
        ],
        "x-enum-varnames": [
          "SubscriptionStatusActive",
          "SubscriptionStatusPaused",
          "SubscriptionStatusCancelled",
          "SubscriptionStatusIncomplete",
          "SubscriptionStatusIncompleteExpired",
          "SubscriptionStatusPastDue",
          "SubscriptionStatusTrialing",
          "SubscriptionStatusUnpaid"
        ]
      },
      "types.TransactionStatus": {
        "type": "string",
        "enum": [
          "pending",
          "completed",
          "failed"
        ],
        "x-enum-varnames": [
          "TransactionStatusPending",
          "TransactionStatusCompleted",
          "TransactionStatusFailed"
        ]
      },
      "types.TransactionType": {
        "type": "string",
        "enum": [
          "credit",
          "debit"
        ],
        "x-enum-varnames": [
          "TransactionTypeCredit",
          "TransactionTypeDebit"
        ]
      },
      "types.WalletStatus": {
        "type": "string",
        "enum": [
          "active",
          "frozen",
          "closed"
        ],
        "x-enum-varnames": [
          "WalletStatusActive",
          "WalletStatusFrozen",
          "WalletStatusClosed"
        ]
      },
      "types.WindowSize": {
        "type": "string",
        "enum": [
          "MINUTE",
          "HOUR",
          "DAY"
        ],
        "x-enum-varnames": [
          "WindowSizeMinute",
          "WindowSizeHour",
          "WindowSizeDay"
        ]
      },
      "v1.ErrorResponse": {
        "type": "object",
        "properties": {
          "detail": {
            "type": "string",
            "example": "Invalid request payload"
          },
          "error": {
            "type": "string",
            "example": "Invalid request payload"
          }
        }
      }
    },
    "securitySchemes": {
      "ApiKeyAuth": {
        "type": "apiKey",
        "description": "Enter your API key in the format *x-api-key &lt;api-key&gt;**",
        "name": "x-api-key",
        "in": "header"
      }
    }
  },
  "x-original-swagger-version": "2.0"
}