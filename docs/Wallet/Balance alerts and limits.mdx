---
title: "Balance Alerts and Limits"
description: "Configure alerts and limits for wallet balance and entitlement usage in Flexprice"
---

## Balance Alerts

### Low Balance Alerts
Monitor wallet balances and receive notifications when funds are running low.

#### Alert Thresholds
- **Warning Level**: 25% of initial balance remaining
- **Critical Level**: 10% of initial balance remaining
- **Depletion Level**: 5% of initial balance remaining

#### Notification Channels
- **Email**: Direct notifications to specified email addresses
- **Webhook**: Real-time alerts to your application
- **Dashboard**: Visual indicators in the Flexprice dashboard
- **SMS**: Text message alerts (optional)

### Configuration
```bash
curl -X POST "https://api.flexprice.com/v1/wallets/{wallet_id}/alerts" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "alert_type": "low_balance",
    "threshold_percentage": 25,
    "notification_channels": ["email", "webhook"],
    "recipients": ["admin@company.com"]
  }'
```

## Usage Limits

### Entitlement Limits
Set hard limits on feature usage to prevent unexpected charges.

#### Limit Types
- **Daily Limits**: Maximum usage per day
- **Monthly Limits**: Maximum usage per billing cycle
- **Total Limits**: Maximum usage over subscription period
- **Per-Feature Limits**: Specific limits for individual features

#### Limit Behaviors
- **Hard Stop**: Usage stops when limit is reached
- **Soft Limit**: Usage continues with warnings
- **Grace Period**: Allow overage for a specified time

### Configuration Examples

#### Daily API Call Limit
```
Feature: API Calls
Limit: 10,000 calls per day
Behavior: Hard stop
Action: Send notification when 80% reached
```

#### Monthly Storage Limit
```
Feature: Data Storage
Limit: 100 GB per month
Behavior: Soft limit with warnings
Action: Continue usage with overage charges
```

## Spending Controls

### Budget Limits
Set maximum spending thresholds for different time periods.

#### Budget Types
- **Daily Budget**: Maximum spending per day
- **Weekly Budget**: Maximum spending per week
- **Monthly Budget**: Maximum spending per billing cycle
- **Project Budget**: Maximum spending per project/customer

#### Budget Alerts
- **50% Spent**: Warning notification
- **80% Spent**: Critical notification
- **100% Spent**: Budget exceeded notification

### Configuration
```bash
curl -X POST "https://api.flexprice.com/v1/wallets/{wallet_id}/budgets" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "budget_type": "monthly",
    "amount": 1000.00,
    "currency": "USD",
    "alert_thresholds": [50, 80, 100]
  }'
```

## Real-time Monitoring

### Dashboard Widgets
- **Balance Overview**: Current balance and spending trends
- **Usage Analytics**: Real-time usage by feature
- **Alert History**: Recent alerts and notifications
- **Limit Status**: Current usage vs. limits

### API Monitoring
```bash
# Get current balance and usage
curl -X GET "https://api.flexprice.com/v1/wallets/{wallet_id}/status" \
  -H "Authorization: Bearer YOUR_API_KEY"

# Get usage analytics
curl -X GET "https://api.flexprice.com/v1/wallets/{wallet_id}/usage" \
  -H "Authorization: Bearer YOUR_API_KEY"
```

## Alert Management

### Alert Rules
Create custom alert rules based on specific conditions.

#### Rule Conditions
- **Balance Threshold**: When balance falls below specified amount
- **Usage Spike**: When usage increases by more than X% in a period
- **Feature Usage**: When specific feature usage exceeds threshold
- **Spending Rate**: When spending rate exceeds normal patterns

#### Rule Actions
- **Send Notification**: Email, webhook, or SMS
- **Pause Usage**: Temporarily stop usage
- **Switch Plan**: Automatically upgrade/downgrade
- **Custom Action**: Execute custom webhook

### Example Alert Rule
```json
{
  "name": "High API Usage Alert",
  "condition": {
    "feature": "api_calls",
    "threshold": 10000,
    "period": "daily"
  },
  "action": {
    "type": "notification",
    "channels": ["email", "webhook"],
    "message": "Daily API usage limit approaching"
  }
}
```

## Best Practices

### For Businesses
1. **Set Realistic Limits**: Base limits on historical usage patterns
2. **Gradual Implementation**: Start with soft limits before hard limits
3. **Regular Review**: Monitor and adjust limits based on usage trends
4. **Clear Communication**: Explain limits and alert policies to customers

### For Customers
1. **Monitor Usage**: Regularly check usage against limits
2. **Set Up Alerts**: Configure notifications for important thresholds
3. **Plan Ahead**: Anticipate usage spikes and adjust limits accordingly
4. **Understand Policies**: Know what happens when limits are reached

## Related Topics

- [Creating a Wallet](../Creating%20a%20wallet.md)
- [Low Balance Alert](../Low%20Balance%20Alert.md)
- [Top-up Wallet](../Top-up%20wallet.md)
- [Usage Monitoring](../../Event%20Ingestion/Overview.md) 