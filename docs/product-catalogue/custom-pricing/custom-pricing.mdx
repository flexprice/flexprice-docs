---
title: "Custom Pricing"
description: "Define custom currencies (e.g. GBP, credits) in Flexprice, set a conversion rate to your base currency, and create prices in those units while billing in base currency."
---

**Custom pricing** in Flexprice lets you charge in your own currency or unit (e.g. British Pound, Bitcoin, tokens, credits) while Flexprice bills and reports in a single **base currency** (e.g. USD). You define a **price unit** with a **conversion rate** to the base currency; then you create prices in that unit. Invoices and revenue stay in base currency; the custom unit is for display and for defining the price.

**Custom pricing lets you:**

* **Support multiple currencies** — Show prices in GBP or EUR while billing in USD.
* **Sell in crypto or internal units** — Use BTC, ETH, or your own tokens/credits with a fixed rate to base currency.
* **Localize pricing** — Display and define prices in the customer’s currency while settling in one base currency.

---

## Key concepts

* **Base currency** — The currency your Flexprice environment uses for all billing and storage (e.g. USD). You can confirm it in your dashboard or tenant settings.
* **Price unit** — A custom currency or unit you define (e.g. `gbp`, `credits`) with a **conversion rate** to the base currency. Once created and published, you use its **code** when creating prices.
* **Conversion rate** — How many units of **base currency** equal **one unit** of the custom unit. Example: rate **1.27** means 1 GBP = 1.27 USD. So £10 becomes 12.70 USD for billing. Formula: `amount_in_base = amount_in_custom_unit × conversion_rate`.

---

## Creating a price unit

You can create a price unit from the **Flexprice dashboard** or via the **API**. You need at least one published price unit before creating prices in a custom currency.

### Via dashboard

<Steps>
  <Step title="Go to Price Units">
    In the main navigation, select **Product Catalog** → **Price Units**.
  </Step>

  <Step title="Open the create form">
    Click **Create Price Unit** (or **Add**) at the top-right to open the create form.
  </Step>

  <Step title="Enter price unit details">
    Fill in the form. Required: **Name**, **Code**, **Base Currency**, **Conversion Rate**. Optional: **Symbol**.

    <Frame>
      ![Create Price Unit](/public/images/docs/Product%20catalogue/custom-pricing/create-custom-pricing.png)
    </Frame>

    * **Name** — A descriptive name (e.g. Bitcoin, Tokens, Credits). Shown in the dashboard and reports.
    * **Code** — Short code for use in prices (e.g. `gbp`, `btc`, `fpc`). Must be unique. Typically 3 characters.
    * **Symbol** *(Optional)* — Display symbol (e.g. ₿, €, or "tokens").
    * **Base Currency** — The base currency this unit converts to (e.g. USD). Must match your Flexprice environment. Select from the dropdown.
    * **Conversion Rate** — Exchange rate from this price unit to base currency. Must be &gt; 0. Example: **1.27** = 1 unit = 1.27 USD; **0.01** = 100 units = 1.00 USD.
  </Step>

  <Step title="Save">
    Click **Create Price Unit** to save. The new price unit appears in the list. Only **published** (active) price units can be used when creating prices.
  </Step>
</Steps>

---

### Via API

<Steps>
  <Step title="Call the API">
    **Endpoint:** `POST /v1/prices/units`. Send a JSON body with the fields below.
  </Step>

  <Step title="Include required fields">
    | Field               | Description |
    |---------------------|-------------|
    | **name**            | Display name (e.g. "British Pound"). |
    | **code**            | Short code for use in prices (e.g. `gbp`, `credits`). Must be unique. |
    | **conversion_rate** | Rate to base currency. Example: `"1.27"` = 1 unit = 1.27 USD; `"0.01"` = 1 credit = 0.01 USD. |
  </Step>

  <Step title="Set optional fields and status">
    Optional: `symbol`, `precision`, `status`. Set **status** to **`published`** so the unit can be used in prices (default is `draft`).
  </Step>

  <Step title="Example request">
    ```json
    {
      "name": "British Pound",
      "code": "gbp",
      "symbol": "£",
      "precision": 2,
      "conversion_rate": "1.27",
      "status": "published"
    }
    ```
  </Step>
</Steps>

---

## Creating prices in your custom currency

After you have a **published** price unit, create **prices** that use it. Attach each price to a **plan** (and for usage-based prices, link a **meter**). Use the same **currency** as your base currency (e.g. `usd`) in the price request.

<Steps>
  <Step title="Set price_unit_type to CUSTOM">
    In the price request body, set **`price_unit_type`** to **`CUSTOM`**. This tells Flexprice the price amounts are in your custom unit.
  </Step>

  <Step title="Add price_unit_config">
    Add **`price_unit_config`** with **`price_unit`** (the price unit **code**, e.g. `gbp`). Then add either **`amount`** or **`price_unit_tiers`** depending on billing model:

    | Billing model | In price_unit_config | Notes |
    |---------------|----------------------|--------|
    | **FLAT_FEE**  | `price_unit`, **`amount`** | Fixed fee per period in custom unit. |
    | **PACKAGE**   | `price_unit`, **`amount`** | Also set **`transform_quantity`**; for USAGE add **`meter_id`**. |
    | **TIERED**    | `price_unit`, **`price_unit_tiers`** | Do **not** use top-level `tiers`. For USAGE add **`meter_id`**. |
  </Step>

  <Step title="Example (FLAT_FEE, £10/month in GBP)">
    ```json
    {
      "currency": "usd",
      "price_unit_type": "CUSTOM",
      "billing_model": "FLAT_FEE",
      "billing_period": "MONTHLY",
      "billing_period_count": 1,
      "billing_cadence": "RECURRING",
      "invoice_cadence": "ARREAR",
      "type": "FIXED",
      "entity_type": "PLAN",
      "entity_id": "<plan_id>",
      "price_unit_config": {
        "price_unit": "gbp",
        "amount": "10.00"
      }
    }
    ```
    Flexprice converts 10 × 1.27 = 12.70 USD and stores both the custom amount and the base-currency amount. Billing uses 12.70 USD.
  </Step>
</Steps>

---

## How conversion works

When you create a price with **`price_unit_type: CUSTOM`**, Flexprice does the following. No separate “conversion” API call is needed.

<Steps>
  <Step title="Resolve and validate the price unit">
    Flexprice looks up the price unit by **code** and checks it is **published** and its base currency matches the price’s **currency**.
  </Step>

  <Step title="Convert and store amounts">
    It multiplies every amount (and tier) by the price unit’s **conversion_rate** and stores both the **custom-unit** values (for display) and the **base-currency** values (for billing).
  </Step>

  <Step title="Use base currency for billing">
    All subscriptions, invoices, and usage billing use the **stored base-currency** amounts. The custom unit is for configuration and display only.
  </Step>
</Steps>

---

## Subscriptions and overrides

<Steps>
  <Step title="Use custom prices on plans">
    **Plans** can include prices that use custom pricing. Subscriptions to that plan use those prices; billing is always in **base currency**.
  </Step>

  <Step title="Override a custom price (optional)">
    When creating or editing a subscription, you can override plan prices. For **CUSTOM** prices use **`price_unit_amount`** and **`price_unit_tiers`** (not `amount` / `tiers`). Flexprice converts overrides to base currency for billing.
  </Step>
</Steps>

---

## API reference

| Action            | Endpoint                           |
|-------------------|-------------------------------------|
| Create price unit | `POST /v1/prices/units`             |
| Get price unit    | `GET /v1/prices/units/{id}`         |
| Get by code       | `GET /v1/prices/units/code/{code}` |
| List price units  | `GET /v1/prices/units`             |
| Update price unit | `PUT /v1/prices/units/{id}`        |
| Delete price unit | `DELETE /v1/prices/units/{id}`     |
| Create price      | `POST /v1/prices` (use `price_unit_type: CUSTOM` and `price_unit_config`) |

---

## Validation and errors

* **Price unit** must exist, be **published**, and its **base_currency** must match the price’s **currency**.
* **Custom prices:** use only **`price_unit_config.price_unit_tiers`** for TIERED (not top-level `tiers`). FLAT_FEE/PACKAGE require **`price_unit_config.amount`**; PACKAGE also needs **`transform_quantity`** (and **`meter_id`** for USAGE).

**Common API errors:**

| Scenario                    | Message / fix |
|----------------------------|---------------|
| Missing price_unit_config  | “price_unit_config is required when using custom pricing unit” |
| Wrong price_unit_type      | “price_unit_type must be CUSTOM when price_unit_config is provided” |
| Both tiers and price_unit_tiers | “cannot provide both regular tiers and price unit tiers” |
| Unpublished price unit     | “price unit must be published” |
| Base currency mismatch     | “price unit base currency must match price currency” |

Fix the request as indicated and retry.
