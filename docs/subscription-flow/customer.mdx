---
title: "End-to-End Usage-Based Pricing Setup (Vapi.ai + FlexPrice)"
description: "A beginner-friendly, step-by-step guide to understanding and implementing usage-based pricing using FlexPrice, inspired by Vapi.ai"
---

## Who Is This Guide For?

This guide is written for **absolute beginners**.

You do **NOT** need:

- Technical knowledge
- Development experience
- Prior understanding of FlexPrice
- Prior understanding of pricing models

If you can follow steps and understand examples, you can complete this setup.

---

## What Are We Building?

We are building a **usage-based pricing system**, similar to **Vapi.ai**, where:

- Customers pay **only for what they use**
- Usage is measured in:
  - Call minutes
  - SMS messages
  - Chat interactions
- Each unit of usage has a **fixed cost**
  - Example: `$0.05 per minute`

FlexPrice will:

- Track usage
- Calculate charges
- Attach pricing to customers

---

## Step 0: Understanding Usage-Based Pricing (Very Important)

### What Is Usage-Based Pricing?

Usage-based pricing means:

> “The more a customer uses a feature, the more they pay.”

Example:

- 10 call minutes → Pay for 10 minutes
- 100 SMS → Pay for 100 SMS

There is **no guessing** or bundles required.

---

## Step 1: Understanding Vapi.ai Pricing (Concept Only)

Vapi.ai charges based on **usage**, not subscriptions alone.

### What Does Vapi.ai Charge For?

| Usage Type   | Description        |
| ------------ | ------------------ |
| Call Minutes | Duration of calls  |
| SMS / Chats  | Number of messages |

Each usage type has:

- A **flat cost**
- Charged per unit

Example:

- `$0.05 per call minute`
- `$0.01 per SMS`

These are called **metered features**.

---

## Step 2: What Is FlexPrice?

FlexPrice is a tool that:

- Tracks customer usage
- Applies pricing rules
- Calculates bills automatically

FlexPrice works using **building blocks**.

We will create them **one by one**, in order.

---

## Step 3: Features (The Foundation)

### What Is a Feature?

A **Feature** is something the customer uses and you want to measure.

Think of features as **meters**.

Examples:

- Call Minutes
- SMS Sent
- Chat Messages

If you want to charge for something, it **must be a feature first**.

---

### Create Features in FlexPrice

Create the following features:

#### Feature 1: Call Minutes

- Type: Usage-based
- Unit: Minute
- Example usage: 1 minute = 1 event

#### Feature 2: SMS

- Type: Usage-based
- Unit: Message
- Example usage: 1 SMS = 1 event

#### Feature 3: Chats

- Type: Usage-based
- Unit: Message
- Example usage: 1 chat = 1 event

⚠️ Important:

> Features **do not define price**.  
> They only define **what is being measured**.

---

## Step 4: Plans (Packaging Features)

### What Is a Plan?

A **Plan** is a package that:

- Groups features together
- Is assigned to customers

Example plans:

- Free
- Pro
- Enterprise

---

### Create Plans

You can create:

- **Free Plan** → Limited access
- **Pro Plan** → Full access
- **Enterprise Plan** → Custom pricing

Plans decide:

- Which features are available
- What charges apply

---

## Step 5: Charges (Where Pricing Is Defined)

### What Is a Charge?

A **Charge** tells FlexPrice:

- How much to bill
- For which feature
- Under which plan

This is where **money is defined**.

---

### Create Usage Charges

For each feature, create a charge:

#### Example: Call Minutes Charge

- Feature: Call Minutes
- Pricing Type: Usage-based
- Rate: `$0.05 per minute`

#### Example: SMS Charge

- Feature: SMS
- Pricing Type: Usage-based
- Rate: `$0.01 per SMS`

Charges are attached to **plans**, not customers.

---

## Step 6: Customer (Who Pays?)

### What Is a Customer?

A **Customer** is the person or company who will be billed.

When creating a customer:

- Use your internal system’s ID as `external_id`

Example:
