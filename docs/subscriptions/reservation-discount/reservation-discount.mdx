---
title: "Reservation Discount"
description: "Set a minimum commitment per charge, overage pricing when usage exceeds it, and optional true-up or per-window (hour/day) commitment. Configured per line item."
---


## Overview

Reservation discounts enable you to:

<Steps>
  <Step title="Set per-line-item commitments">
    Configure minimum usage guarantees for specific features or services.
  </Step>
  <Step title="Define overage rates">
    Apply premium pricing to usage beyond committed amounts.
  </Step>
  <Step title="Ensure minimum revenue">
    Guarantee baseline revenue per line item with true-up fees.
  </Step>
  <Step title="Support flexible commitment types">
    Choose between amount-based or quantity-based commitments.
  </Step>
  <Step title="Enable window-based commitments">
    Apply commitments per time window (hourly, daily) instead of per billing period.
  </Step>
</Steps>

## Prerequisite

<Steps>
  <Step title="Commitment + overage (e.g. image generation)">
    Customer commits to a minimum (e.g. 2,000 images/day at 1 unit each). Usage above 2,000 is charged at **unit price × overage factor** (e.g. 2×). With **true-up off**, usage below 2,000 is charged at actual usage only.
  </Step>
  <Step title="Reservation / window (e.g. GPU or capacity)">
    Customer reserves capacity per time window (e.g. 16 CPUs per hour). Each hour is evaluated separately: under commitment → true-up to 16 if enabled; over 16 → overage at factor. Same logic for per-day or per-week windows.
  </Step>
</Steps>

## How Reservation Discount Works

When a reservation discount is configured for a subscription line item:

<Steps>
  <Step title="Commitment">
    You define a minimum amount or quantity the customer commits to for that specific line item.
  </Step>
  <Step title="Overage Factor">
    You set a multiplier (e.g. 1.5x) that applies to usage exceeding the commitment.
  </Step>
  <Step title="True-Up (Optional)">
    If enabled, customers pay the full commitment even if their usage falls short.
  </Step>
  <Step title="Window Mode (Optional)">
    Apply commitment per time window rather than per billing period.
  </Step>
</Steps>

### Billing Calculation Logic

**When usage ≥ commitment:**  
Total = commitment amount + (amount above commitment × overage factor).  
Overage is charged at **unit price × overage factor** for the extra usage.

**When usage < commitment and true-up enabled:**  
Total = full commitment amount (customer pays the minimum).

**When usage < commitment and true-up disabled:**  
Total = actual usage cost only.

## Configuration Options

### Commitment Type

- **Amount-based:** Commitment in currency (e.g. $1,000/month). Overage and true-up apply to the amount. Use when minimum spend matters more than units.
- **Quantity-based:** Commitment in units (e.g. 2,000 images/day). Price per unit is fixed; overage factor applies to the *price* of extra units. Use when customers think in units (images, GB, API calls).

### Overage Factor

A multiplier applied to usage beyond the commitment amount:

- **Standard Rate (1.0)**: No premium for overage
- **Premium Rate (> 1.0)**: Higher rate for excess usage (e.g., 1.5x means 50% premium)
- **Discount Rate (< 1.0)**: Lower rate for excess usage (less common)

**Example:** With 1.5x overage factor and $1,000 commitment:
- Usage = $1,500
- Charge = $1,000 + ($500 × 1.5) = $1,750

### True-Up

Ensures customers pay the full commitment even if usage is low:

- **Enabled**: Charge full commitment amount regardless of usage
- **Disabled**: Charge only actual usage if below commitment

**Use Cases:**
- Guaranteed minimum revenue per line item
- Reserved capacity pricing
- Volume commitments

### Window Commitment

Apply commitment per time window instead of per billing period:

- **Per billing period (default):** One commitment for the whole cycle (e.g. 2,000 images per month).
- **Per window:** Commitment and overage/true-up apply **per window** (e.g. per hour, per day). Window options are typically **minute**, **hour**, **day**, or **week**. Each window is calculated separately.

**Example (hourly window, 1 unit/hour, overage 2×, true-up on):**
- Hour 1: 10 used → true-up to 16 → charge 16
- Hour 2: 16 used → charge 16
- Hour 3: 18 used → 16 at base + 2 at 2× → charge 20  
Total = 16 + 16 + 20.

## Steps to Configure Reservation Discount

<Steps>
  <Step title="Navigate to Create Subscription">
    Go to **Customers** → **Select Customer** → **Add Subscription**
  </Step>
  <Step title="Select a Plan">
    Choose the pricing plan with line items you want to configure.
  </Step>
  <Step title="Configure Line Item Commitment">
    Scroll to the line item commitment section and select the line item (price) to configure.

    <Frame>
      ![Select Line Item](/public/images/docs/Subscriptions/ReservationDiscount/select-line-item.png)
    </Frame>
  </Step>
  <Step title="Set Commitment Parameters">
    **Choose Commitment Type:** Select **Amount** for dollar-based commitment or **Quantity** for unit-based commitment.

  </Step>
  <Step title="Define Commitment Value">
    Enter the commitment amount or quantity. The system will auto-calculate the corresponding value based on pricing.

  </Step>
  <Step title="Configure Overage Factor">
    Enter the multiplier for excess usage (e.g. 1.5 for 50% premium). Default is 1.0 (no premium).

  
  </Step>
  <Step title="Enable True-Up (Optional)">
    Toggle true-up if you want to charge the minimum commitment even when usage is low.

  </Step>
  <Step title="Enable Window Commitment (Optional)">
    Toggle window commitment for per-window (hourly/daily) commitments. Applies commitment to each time window independently.
  </Step>
</Steps>

## Calculation Examples

### Example 1: Amount-Based Commitment with Overage

**Configuration:**
- Line Item: API Usage (metered)
- Commitment Type: Amount
- Commitment Amount: $1,000
- Overage Factor: 1.5x
- True-Up: Disabled

**Scenario A - Usage Exceeds Commitment:**
```
Actual Usage Cost: $1,500
Commitment: $1,000
Overage: $1,500 - $1,000 = $500
Overage Charge: $500 × 1.5 = $750

Total Charge: $1,000 + $750 = $1,750
```

**Scenario B - Usage Below Commitment:**
```
Actual Usage Cost: $800
Commitment: $1,000
True-Up: Disabled

Total Charge: $800 (pay only for actual usage)
```

---

### Example 2: Quantity-Based Commitment with True-Up

**Configuration:**
- Line Item: Data Transfer (metered at $0.10/GB)
- Commitment Type: Quantity
- Commitment Quantity: 5,000 GB (= $500 at $0.10/GB)
- Overage Factor: 2.0x
- True-Up: Enabled

**Scenario A - Usage Exceeds Commitment:**
```
Actual Usage: 7,000 GB
Usage Cost: 7,000 × $0.10 = $700
Commitment Amount: 5,000 × $0.10 = $500
Overage: $700 - $500 = $200
Overage Charge: $200 × 2.0 = $400

Total Charge: $500 + $400 = $900
```

**Scenario B - Usage Below Commitment:**
```
Actual Usage: 3,000 GB
Usage Cost: 3,000 × $0.10 = $300
Commitment Amount: $500
True-Up: Enabled
True-Up Fee: $500 - $300 = $200

Total Charge: $500 (commitment enforced via true-up)
```

---

### Example 3: Window Commitment (Hourly)

**Configuration:**
- Line Item: Compute Credits
- Commitment Type: Amount
- Commitment Amount: $100 per hour
- Overage Factor: 1.5x
- True-Up: Enabled
- Window Commitment: Enabled (hourly)

**Billing Period with 3 Hours:**

**Hour 1:**
```
Usage: $150
Commitment: $100
Overage: $50
Overage Charge: $50 × 1.5 = $75
Hour 1 Charge: $100 + $75 = $175
```

**Hour 2:**
```
Usage: $80
Commitment: $100
True-Up: $100 - $80 = $20
Hour 2 Charge: $100 (commitment enforced)
```

**Hour 3:**
```
Usage: $200
Commitment: $100
Overage: $100
Overage Charge: $100 × 1.5 = $150
Hour 3 Charge: $100 + $150 = $250
```

**Total Billing Period Charge: $175 + $100 + $250 = $525**

## Reservation and subscription-level commitment

| Reservation discount (line item) | Subscription-level commitment |
|----------------------------------|-------------------------------|
| Per charge / feature | Whole subscription |
| Different commitment and overage per feature | Single minimum spend for all |
| Yes (per hour/day/week) | No |

Use **reservation discount** when each feature has its own commitment and overage. Use **subscription-level commitment** for one overall minimum spend. See [Subscription-Level Commitment](/docs/subscriptions/commitment) for the latter.



